# Функция "Коллаборации" - Документация изменений

## Описание изменений

Добавлена новая функция "Коллаборации" в игру "Пчелка Майя", которая позволяет моделировать маркетинговые расходы и трудозатраты для продвижения бренда меда.

## Реализованные изменения

### 1. Добавлена кнопка "Коллаборации"
- **Расположение**: Ниже кнопки "Налог" в основном интерфейсе игры
- **Стиль**: Зеленая кнопка (btn-success) для выделения среди других кнопок
- **Файл**: `templates/game_main.html`

```html
<button class="btn btn-success" onclick="showModal('Коллаборации', getCollaborationContent())">
    Коллаборации
</button>
```

### 2. Создано модальное окно с интерактивной таблицей
- **Широкое модальное окно** с закрепленной верхней строкой
- **Суммарная информация**: общая стоимость в рублях в месяц и трудозатраты в часах в сутки
- **Таблица из трех колонок**:
  1. Описание маркетинговых работ (самая широкая колонка)
  2. Стоимость работы в рублях
  3. Трудозатраты в часах

### 3. Категории маркетинговых работ

#### Свой сайт:
- Создание: 50 000 р. / 6 ч.
- Администрирование: 8 000 р. / 1 ч.
- Наполнение: 20 000 р. / 3 ч.

#### Контент:
- Текст: 20 000 р. / 28 ч.
- Видео: 50 000 р. / 56 ч.

#### Группы в соцсетях:
1. Красота без границ (1,1 млн) - 50 000 р. / - ч.
2. Идеал красоты (720 т.) - 30 000 р. / - ч.
3. Магия макияжа (340 т.) - 35 000 р. / - ч.
4. Стильные метаморфозы (320 т.) - 12 000 р. / - ч.
5. Искусство быть красивой (32 т.) - 1 000 р. / - ч.

#### Посты у блогеров:
1. FitLife_Guru (1,2 млн) - 70 000 р. / - ч.
2. EcoEnergie (840 т.) - 20 000 р. / 6 ч.
3. ZOJ_Power (510 т.) - 10 000 р. / 18 ч.
4. HealthyHarmony (40 т.) - 2 000 р. / 6 ч.
5. GreenBodyMind (30 т.) - 20 000 р. / - ч.

#### Местные СМИ:
1. Маяк (20 т.) - 7 000 р. / - ч.
2. Зов Ильича (2 т.) - 70 000 р. / 36 ч.

#### Всероссийские СМИ:
1. RBC (3,2 млн) - 170 000 р. / - ч.
2. Lenta.ru (23,7 млн) - 200 000 р. / - ч.
3. Panorama (15,6 млн) - 10 000 р. / - ч.
4. Yaplakal (56 млн) - 20 000 р. / - ч.
5. Habr.com (7 млн) - 120 000 р. / - ч.

### 4. Функционал чекбоксов и пересчета
- **Чекбоксы** во второй и третьей колонках для выбора работ
- **Автоматический пересчет** суммарной стоимости и трудозатрат при выборе/снятии чекбоксов
- **Неактивные чекбоксы** для работ с прочерком в колонке трудозатрат
- **Форматирование чисел** с разделением тысяч для удобства чтения

### 5. Вынесение JavaScript и CSS в отдельные файлы

#### JavaScript файл: `static/js/collaboration.js`
- Функция `getCollaborationContent()` - создание HTML контента модального окна
- Функция `updateCollaborationTotals()` - пересчет суммарных значений
- Инициализация обработчиков событий
- Поддержка Bootstrap модальных окон

#### CSS файл: `static/css/collaboration.css`
- Стилизация таблицы коллабораций
- Адаптивный дизайн для мобильных устройств
- Анимации и переходы
- Стили для чекбоксов и выделения выбранных элементов
- Специальные стили для суммарных значений

### 6. Подключение файлов
- **CSS**: Добавлен в `templates/base.html`
- **JavaScript**: Подключен в `templates/game_main.html`

## Технические особенности

### Адаптивность
- Полная поддержка мобильных устройств
- Адаптивные размеры шрифтов и отступов
- Оптимизация таблицы для экранов разных размеров

### Производительность
- Минимальное использование DOM операций
- Эффективный пересчет только при изменении состояния чекбоксов
- Ленивая инициализация обработчиков событий

### Пользовательский опыт
- Плавные анимации при взаимодействии
- Визуальная обратная связь при выборе элементов
- Интуитивно понятный интерфейс
- Подсветка выбранных работ

### Доступность
- Семантическая разметка HTML
- Поддержка клавиатурной навигации
- Контрастные цвета для лучшей читаемости
- Правильные aria-атрибуты для скринридеров

## Файловая структура изменений

```
├── templates/
│   ├── base.html (добавлено подключение CSS)
│   └── game_main.html (добавлена кнопка и подключение JS)
├── static/
│   ├── css/
│   │   └── collaboration.css (новый файл)
│   └── js/
│       └── collaboration.js (новый файл)
└── docs/
    └── kollaboration.md (этот файл)
```

## Тестирование

Функциональность протестирована на:
- ✅ Корректное отображение таблицы
- ✅ Работа чекбоксов и пересчет сумм
- ✅ Адаптивность на разных разрешениях
- ✅ Интеграция с существующей системой модальных окон
- ✅ Отсутствие конфликтов с другими функциями

## Совместимость

- ✅ Совместим с существующей архитектурой Flask приложения
- ✅ Не нарушает работу других функций игры
- ✅ Соответствует общему дизайн-системе проекта
- ✅ Использует существующие стили и компоненты Bootstrap

---

**Дата реализации**: Текущая версия  
**Статус**: Реализовано и протестировано  
**Автор**: KodaCode AI Assistant